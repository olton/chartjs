/*! 
 * MetroUI :: ChartJS - Create different charts in js
 * https://pimenov.com.ua
 *
 * Copyright 2021 Serhii Pimenov
 * Released under the MIT license
 */
!function(){"use strict";var t={width:1,lineType:"solid",color:"#e3e3e3",radius:0},i={style:"normal",family:"Helvetica, sans-serif",size:12,weight:"normal",lineHeight:1.2},e=Object.assign({},i,{weight:"bold"}),o={color:"#000",size:1,dash:[],factorX:5,factorY:5},s={dpi:1,height:200,width:"100%",padding:{top:40,bottom:40,left:40,right:40},margin:{top:0,bottom:0,left:0,right:0},background:"#fff",color:"#000",font:i,border:t,cross:{size:1,color:"#bbb",dash:[5,3]},showLines:!0,axis:{showXAxis:!0,showXLabels:!0,showYAxis:!0,showYLabels:!0,showMinMax:!1,linesX:5,linesY:5,labelsX:5,labelsY:5,labels:{x:!0,y:!0,color:"#000",font:e},lines:{color:"#e3e3e3",size:1,dash:[]},arrowX:o,arrowY:o,onDrawLabelY:null,onDrawLabelX:null},title:{display:!0,align:"center",
// start, center, end
rtl:!1,color:"#000",text:"",font:Object.assign({},i,{weight:"bold",size:24}),padding:{top:10,bottom:10,left:10,right:10}},legend:{rtl:!1,margin:{top:20,left:0,right:0,bottom:0},padding:{top:0,left:0,right:0,bottom:0},font:e,border:t,dash:[],color:"#fff"},tooltip:{width:"auto",background:"#fff",color:"#000",font:i,border:t,padding:{top:10,bottom:10,left:10,right:10},shadow:{shiftX:2,shiftY:2,blur:4,stretch:0,color:"rgba(0,0,0,.5)"},onShow:null},boundaries:!1,accuracy:10,value:{fixed:0},onClick:null,onHover:null,onEnter:null,onLeave:null};
/**
     * Simple object check.
     * @param item
     * @returns {boolean}
     */
function a(t){return t&&"object"==typeof t&&!Array.isArray(t)}
/**
     * Deep merge two objects.
     * @param target
     * @param ...sources
     */function r(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];if(!e.length)return t;var s=e.shift();if(a(t)&&a(s))for(var n in s)a(s[n])?(t[n]||Object.assign(t,{[n]:{}}),r(t[n],s[n])):Object.assign(t,{[n]:s[n]});return r(t,...e)}var n=(t,i,e,o)=>{var[s,a]=e,{align:r="left",color:n="#000",stroke:l="#000",font:h}=o,{style:d="normal",weight:c="normal",size:p=12,lineHeight:f=1,family:g="sans-serif"}=h;t.save(),t.beginPath(),t.textAlign=r,t.fillStyle=n,t.strokeStyle=l,t.font="".concat(d," ").concat(c," ").concat(p,"px/").concat(f," ").concat(g),i.toString().split("\n").map(((i,e)=>{t.fillText(i,s,a+a*e*f)})),t.closePath(),t.restore()},l=(t,i,e)=>{var o,{font:s=null}=e,a=0;if(t.save(),s){var{style:r="normal",weight:n="normal",size:l=12,lineHeight:h=1.2,family:d="sans-serif"}=s;t.font="".concat(r," ").concat(n," ").concat(l,"px/").concat(h," ").concat(d)}for(var c=0;c<i.length;c++)(o=t.measureText(i[c][0]).width)>a&&(a=o);return t.restore(),a},h=(t,i,e)=>{var[o,s,a]=i,{color:r="#000",fill:n="#fff",size:l=1,dash:h=[]}=e;t.beginPath(),t.save(),t.setLineDash(h),t.lineWidth=l,t.strokeStyle=r,t.fillStyle=n,t.rect(o-a,s-a,2*a,2*a),t.fill(),t.stroke(),t.restore(),t.closePath()},d={legend(){var t,i,e,o=this.options,s=o.legend,r=o.legend.font.size/2,d=this.ctx,c=this.legendItems;if(s&&a(s)&&c&&Array.isArray(c)&&c.length){t=s.font.size*s.font.lineHeight,e=o.padding.top+this.viewHeight+s.font.size+s.padding.top+s.margin.top,i=o.padding.left+s.padding.left+s.margin.left;for(var p=0;p<c.length;p++){var[f,g]=c[p],v=l(d,[[f]],{font:s.font});i+v>this.viewWidth&&(i=o.padding.left+s.padding.left+s.margin.left,e+=t),h(d,[i,e],{color:g,fill:g,radius:r}),n(d,f,[i+r+5,e+r/2],{color:o.font.color,stroke:o.font.color,font:o.font}),i+=r+v+20}}},legendVertical(){var t,i,e,o,s=this.options,r=s.legend,d=null!==(t=r.font)&&void 0!==t?t:s.font,c=d.size/2,p=this.ctx,f=this.legendItems;if(r&&a(r)&&f&&Array.isArray(f)&&f.length){i=d.size*d.lineHeight,((t,i,e)=>{var[o,s,a,r]=i,{color:n="#fff",borderColor:l="#000",dash:h=[],size:d=1}=e;t.save(),t.beginPath(),t.strokeStyle=l,t.fillStyle=n,t.setLineDash(h),t.lineWidth=d,t.clearRect(o,s,a,r),t.fillRect(o,s,a,r),d&&t.strokeRect(o,s,a,r),t.closePath(),t.restore()})(p,[e=s.padding.left+r.margin.left,o=s.padding.top+r.margin.top,l(p,f,{font:d})+r.padding.left+r.padding.right+3*c+5,f.length*i+r.padding.top+r.padding.bottom+5],{color:r.color,dash:r.dash,size:r.border.width,borderColor:r.border.color}),e+=c+5+r.padding.left,o+=c+5+r.padding.top;for(var g=0;g<f.length;g++){var[v,u]=f[g];h(p,[e,o,c],{color:u,fill:u}),n(p,v,[e+c+5,o+c/2+2],{color:s.font.color,stroke:s.font.color,font:r.font}),o+=i}}}},c=(t,i,e)=>{var[o,s,a,r]=i,{color:n="#000",size:l=1,dash:h=[]}=e;t.beginPath(),t.save(),t.setLineDash(h),t.lineWidth=l,t.strokeStyle=n,t.moveTo(o,s),t.lineTo(a,r),t.stroke(),t.restore(),t.closePath()},p={arrowX(){var t=this.options,i=this.ctx,e=t.padding.left,o=this.viewHeight+t.padding.top,s=e+this.viewWidth,a=o;t.axis.arrowX&&((t,i,e)=>{var[o,s,a,r,n,l]=i,{color:h="#000",dash:d=[],size:c=1}=e;t.beginPath(),t.strokeStyle=h,t.lineWidth=c,t.setLineDash(d),t.moveTo(o,s),t.lineTo(a,r),t.moveTo(a,r),t.lineTo(a-n,r-l),t.moveTo(a,r),t.lineTo(a-n,r+l),t.stroke(),t.closePath()})(i,[e,o,s,a,t.axis.arrowX.factorX,t.axis.arrowX.factorY],{color:t.axis.arrowX.color,size:t.axis.arrowX.size,dash:t.axis.arrowX.dash})},axisX(){var t,i=this.ctx,e=this.options,o=e.axis,s=o.lines,a=this.viewWidth/o.linesX,r=(this.maxX-this.minX)/o.linesX,l=null!==(t=o&&o.font)&&void 0!==t?t:e.font,h=Math.round(o.linesX/o.labelsX);if(o.showXAxis)for(var d=0;d<e.axis.linesX+1;d++){var p=a*d+e.padding.left,f=this.minX+r*d;o.linesX&&c(i,[p,e.padding.top,p,this.viewHeight+e.padding.top],{color:s.color,size:s.size,dash:s.dash}),o.showXLabels&&(h&&d&&d%h!=0||("function"==typeof e.axis.onDrawLabelX&&(f=e.axis.onDrawLabelX.apply(null,[f])),p+i.measureText(f.toString()).width>this.viewWidth||n(i,f.toString(),[p,this.viewHeight+e.padding.top+l.size+5],{align:"start",font:l})))}},arrowY(){var t=this.options,i=this.ctx,e=t.padding.left,o=this.viewHeight+t.padding.top,s=e,a=t.padding.top;t.axis.arrowY&&((t,i,e)=>{var[o,s,a,r,n,l]=i,{color:h="#000",dash:d=[],size:c=1}=e;t.beginPath(),t.strokeStyle=h,t.lineWidth=c,t.setLineDash(d),t.moveTo(o,s),t.lineTo(a,r),t.moveTo(a,r),t.lineTo(a-n,r+l),t.moveTo(a,r),t.lineTo(a+n,r+l),t.stroke(),t.closePath()})(i,[e,o,s,a,t.axis.arrowX.factorX,t.axis.arrowX.factorY],{color:t.axis.arrowY.color,size:t.axis.arrowY.size,dash:t.axis.arrowY.dash})},axisY(){var t,i=this.ctx,e=this.options,o=e.axis,s=o.lines;e.value.fixed;var a=this.viewHeight/e.axis.linesY,r=(this.maxY-this.minY)/e.axis.linesY,l=null!==(t=o&&o.font)&&void 0!==t?t:e.font,h=Math.floor(o.linesY/o.labelsY);if(o.showYAxis)for(var d=0;d<e.axis.linesY+1;d++){var p=this.viewHeight+e.padding.top-a*d,f=e.padding.left,g=this.minY+r*d;o.linesY&&c(i,[f,p,this.viewWidth+e.padding.left,p],{color:s.color,size:s.size,dash:s.dash}),o.showYLabels&&(h&&d&&d%h!=0||("function"==typeof e.axis.onDrawLabelY&&(g=e.axis.onDrawLabelY.apply(null,[g])),n(i,g.toString(),[e.padding.left-5,p],{align:"right",font:l})))}},axisXY(){if(this.options.axis)return this.axisX(),this.arrowX(),this.axisY(),this.arrowY(),this}},f={showTooltip(t,i){var e=this.options;if(this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e.tooltip){var{x:o,y:s}=this.proxy.mouse,a=document.createElement("div"),r=e.tooltip.onShow,n=e.tooltip.font,l=e.tooltip.shadow,h=e.tooltip.border,d=e.tooltip.padding;a.style.position="fixed",a.style.border="".concat(h.width,"px ").concat(h.lineType," ").concat(h.color),a.style.borderRadius="".concat(h.radius),a.style.padding="".concat(d.top,"px ").concat(d.right,"px ").concat(d.bottom,"px ").concat(d.left,"px"),a.style.background="".concat(e.tooltip.background),a.style.font="".concat(n.style," ").concat(n.weight," ").concat(n.size,"px/").concat(n.lineHeight," ").concat(n.family),a.style.boxShadow="".concat(l.shiftX,"px ").concat(l.shiftY,"px ").concat(l.blur,"px ").concat(l.color),a.innerHTML=r&&"function"==typeof r?r.apply(null,[t,i]):t,document.querySelector("body").appendChild(a),a.style.top="".concat(s-a.clientHeight-15,"px"),a.style.left="".concat(o-a.clientWidth/2-5,"px"),this.tooltip=a}}};class g{constructor(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unknown";this.options=r({},s,e),this.data=i,this.el=document.querySelector(t),this.canvas=null,this.ctx=null,this.raf=null,this.tooltip=null,this.minX=0,this.maxX=0,this.minY=0,this.maxY=0,this.legendItems=[],this.chartType=o;var a=this;if(this.proxy=new Proxy({},{set(){var t=Reflect.set(...arguments);return a.raf=requestAnimationFrame(a.draw.bind(a)),t}}),!this.el)throw new Error("You must define a selector for chart wrapper element!");this.options.border&&(this.el.style.border="".concat(this.options.border.width,"px ").concat(this.options.border.lineType," ").concat(this.options.border.color)),this.calcInternalValues(),this.createCanvas(),this.addEvents()}createCanvas(){this.canvas=document.createElement("canvas"),this.el.innerHTML="",this.el.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.setCanvasSize()}setCanvasSize(){var t=this.options;this.canvas.style.height=this.height+"px",this.canvas.style.width=this.width+"px",this.canvas.width=t.dpi*this.width,this.canvas.height=t.dpi*this.height}calcInternalValues(){var t,i,e=this.options,o=this.el.getBoundingClientRect(),{width:s,height:a}=o;t=e.width.toString().includes("%")?s/100*parseInt(e.width):+e.width,i=e.height.toString().includes("%")?a/100*parseInt(e.height):+e.height,this.width=t,this.height=i,this.dpiHeight=e.dpi*i,this.dpiWidth=e.dpi*t,this.viewHeight=this.dpiHeight-(e.padding.top+e.padding.bottom),this.viewWidth=this.dpiWidth-(e.padding.left+e.padding.right)}calcRatio(){this.ratioX=this.viewWidth/(this.maxX-this.minX),this.ratioY=this.viewHeight/(this.maxY-this.minY)}title(){var t,i=this.options.title,e=this.ctx;if(i&&i.text){var{text:o,align:s,color:a,font:r}=i;switch(s){case"center":t=this.dpiWidth/2;break;case"right":t=this.dpiWidth-5;break;default:t=5}n(e,o,[t,r.size+5],{align:i.align,color:i.color,stroke:i.color,font:i.font})}}draw(){this.clear(),this.calcRatio(),this.title(),this.axisXY()}clear(){this.ctx.clearRect(0,0,this.dpiWidth,this.dpiHeight)}mouseMove(t){var i=this.options.onHover,{clientX:e,clientY:o}=t;"function"==typeof i&&i(e,o),this.proxy.mouse={x:e,y:o}}mouseLeave(){var t=this.options.onLeave;"function"==typeof t&&t(),this.proxy.mouse=null}resize(){this.calcInternalValues(),this.setCanvasSize(),this.draw()}addEvents(){var t=this.canvas;t.addEventListener("mousemove",this.mouseMove.bind(this)),t.addEventListener("mouseleave",this.mouseLeave.bind(this)),window.addEventListener("resize",this.resize.bind(this))}destroy(){var t=this.canvas;cancelAnimationFrame(this.raf),t.removeEventListener("mousemove",this.mouseMove.bind(this)),t.removeEventListener("mouseleave",this.mouseLeave.bind(this)),window.removeEventListener("resize",this.resize.bind(this))}}Object.assign(g.prototype,d),Object.assign(g.prototype,p),Object.assign(g.prototype,f);var v=function(){var t,i,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";for(var a of o)e="x"===s.toLowerCase()?a[0]:a[1],(isNaN(t)||t>e)&&(t=e),(isNaN(i)||i<e)&&(i=e);return[t,i]},u=(t,i,e)=>{var[o,s,a]=i,{color:r="#000",fill:n="#fff",size:l=1}=e;t.beginPath(),t.save(),t.setLineDash([]),t.lineWidth=l,t.strokeStyle=r,t.fillStyle=n,t.arc(o,s,a,0,2*Math.PI),t.fill(),t.stroke(),t.restore(),t.closePath()},m=(t,i,e)=>{var[o,s,a]=i,{color:r="#000",fill:n="#fff",size:l=1}=e;t.beginPath(),t.save(),t.setLineDash([]),t.lineWidth=l,t.strokeStyle=r,t.fillStyle=n,t.moveTo(o,s-a),t.lineTo(o+a,s+a),t.lineTo(o-a,s+a),t.lineTo(o,s-a),t.fill(),t.stroke(),t.restore(),t.closePath()},b=(t,i,e)=>{var[o,s,a]=i,{color:r="#000",fill:n="#fff",size:l=1}=e;t.beginPath(),t.save(),t.setLineDash([]),t.lineWidth=l,t.strokeStyle=r,t.fillStyle=n,t.moveTo(o,s-a),t.lineTo(o+a,s),t.lineTo(o,s+a),t.lineTo(o-a,s),t.lineTo(o,s-a),t.fill(),t.stroke(),t.restore(),t.closePath()},x={},w={cross(){var t=this.options,i=t.cross,e=this.ctx,o=this.canvas.getBoundingClientRect();if(t.cross&&(!t.cross||this.proxy.mouse)){var{x:s,y:a}=this.proxy.mouse;s-=o.left,a-=o.top,s-t.padding.left+1<0||s>this.viewWidth+t.padding.left+1||a-t.padding.top+1<0||a>this.viewHeight+t.padding.top+1||(e.beginPath(),e.setLineDash(t.cross.dash),e.lineWidth=i.size,e.strokeStyle=i.color,// vertical line
e.moveTo(s,t.padding.top),e.lineTo(s,this.viewHeight+t.padding.top),// Horizontal line
e.moveTo(t.padding.left,a),e.lineTo(this.viewWidth+t.padding.left,a),e.arc(s,a,10,0,2*Math.PI),e.stroke(),e.closePath())}}};class y extends g{constructor(t){if(super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r({},x,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),"line"),this.coords={},this.legendItems=[],this.options.legend)for(var i of this.data)this.legendItems.push([i.name,i.color]);this.calcMinMax(),this.resize()}calcMinMax(){var t=this.options,i=[];for(var e in this.data){var o=this.data[e].data;if(Array.isArray(o))for(var[s,a]of o)i.push([s,a])}var[r,n]=v(i,"x"),[l,h]=v(i,"y");return this.minX=t.boundaries&&!isNaN(t.boundaries.minX)?t.boundaries.minX:r,this.maxX=t.boundaries&&!isNaN(t.boundaries.maxX)?t.boundaries.maxX:n,this.minY=t.boundaries&&!isNaN(t.boundaries.minY)?t.boundaries.minY:l,this.maxY=t.boundaries&&!isNaN(t.boundaries.maxY)?t.boundaries.maxY:h,this}lines(){var t,i=this,e=this.options,o=this.ctx,s=function(s){var a,r;for(var[n,l]of(t=[],s.data)){var d=Math.floor((n-i.minX)*i.ratioX+e.padding.left),c=Math.floor(i.viewHeight+e.padding.top-(l-i.minY)*i.ratioY);t.push([d,c,n,l])}e.showLines&&!1!==s.showLines&&function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{color:e="#000",size:o=1,dash:s=[]}=arguments.length>2?arguments[2]:void 0;t.beginPath(),t.save(),t.setLineDash(s),t.lineWidth=o,t.strokeStyle=e,i.map((i=>{var[e,o]=i;t.lineTo(e,o)})),t.stroke(),t.restore(),t.closePath()}(o,t,{color:s.color,size:s.size});var p=s.dots?s.dots:{type:"dot"},f={color:null!==(a=p.color)&&void 0!==a?a:s.color,fill:null!==(r=p.fill)&&void 0!==r?r:s.color,radius:p.size||4},g=void 0;switch(p.type){case"square":g=h;break;case"triangle":g=m;break;case"diamond":g=b;break;default:g=u}s.dots&&t.map((t=>{var[i,e]=t;g(o,[i,e,p.size||4],f)})),i.coords[s.name]={graph:s,coords:t,drawPointFn:g,opt:f}};for(var a of this.data)s(a)}floatPoint(){var t=this.options,i=this.ctx,e=this.canvas.getBoundingClientRect(),o=!1;if(this.proxy.mouse){var{x:s,y:a}=this.proxy.mouse,r=s-e.left,n=a-e.top;for(var l in this.coords){var h=this.coords[l],d=h.drawPointFn,c=h.opt;for(var[p,f,g,v]of h.coords){var u=+(t.accuracy||c.radius);if(r>p-u&&r<p+u&&n>f-u&&n<f+u){d(i,[p,f,2*c.radius],{color:c.color,fill:c.fill}),t.tooltip&&(this.showTooltip([g,v],h.graph),o=!0);break}}!o&&this.tooltip&&(this.tooltip.remove(),this.tooltip=null)}}}legend(){return!0===this.options.legend.vertical?super.legendVertical():super.legend()}draw(){super.draw(),this.lines(),this.floatPoint(),this.cross(),this.legend()}}Object.assign(y.prototype,w);var z={groupDistance:20,barDistance:10,legend:{titles:null},onDrawLabel:null},X=(t,i,e)=>{var[o,s,a,r]=i,{color:n="#000",fill:l="#fff",size:h=1,dash:d=[]}=e;t.beginPath(),t.save(),t.setLineDash(d),t.lineWidth=h,t.strokeStyle=n,t.fillStyle=l,t.rect(o,s,a,r),t.fill(),t.stroke(),t.restore(),t.closePath()};class Y extends g{constructor(t,i,e){super(t,i,r({},z,e),"bar"),this.groups=0,this.barWidth=0,this.legendItems=[];var o=this.options.legend;if(o&&o.titles&&o.titles.length)for(var s=0;s<o.titles.length;s++)this.legendItems.push([o.titles[s],this.data[0].color.split(",").map((t=>t.trim()))[s]]);this.calcMinMax(),this.resize()}calcMinMax(){var t=this.options,{fixed:i=0}=t.value,e=[];for(var o in this.data){var s=this.data[o].data;e=[].concat(e,s)}for(var a in this.data)this.data[a].data.length,this.groups++;var[,r]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[Math.min.apply(null,t),Math.max.apply(null,t)]}(e);return this.maxY=(t.boundaries&&!isNaN(t.boundaries.maxY)?t.boundaries.maxY:r).toFixed(i),this}calcBarWidth(){var t=this.options,i=0;for(var e of this.data)i+=e.data.length;this.barWidth=Math.round((this.viewWidth-this.data.length*+t.groupDistance-i*+t.barDistance)/i)-5}axisX(){}bars(){var t,i,e=this.options,o=this.ctx,s=e.padding.left+e.groupDistance,a=this.viewHeight+e.padding.top,r=this.canvas.getBoundingClientRect(),l=!1;for(var h of(this.proxy.mouse&&(t=this.proxy.mouse.x-r.left,i=this.proxy.mouse.y-r.top),this.data)){for(var d=h.color.split(",").map((t=>t.trim())),c=h.name,p=h.data,f=d.length>1?e.color:d[0],g=0,v=0;v<p.length;v++){var u=p[v]*this.ratioY,m=d[v],b=d[v];X(o,[s,a-u,this.barWidth-1,u],{color:m,fill:b}),t>s&&t<s+this.barWidth-1&&i>a-u&&i<a&&(X(o,[s,a-u,this.barWidth-1,u],{color:m,fill:"rgba(255,255,255,.3)"}),e.tooltip&&(this.showTooltip([e.legend.titles?e.legend.titles[v]:c,p[v]],h),l=!0)),g+=this.barWidth,s+=e.barDistance+this.barWidth}"function"==typeof e.onDrawLabel&&(c=e.onDrawLabel.apply(null,c)),n(o,c,[s-g/2-e.barDistance,a+20],{align:"center",color:f,stroke:f,font:e.font}),s+=e.groupDistance}return!l&&this.tooltip&&(this.tooltip.remove(),this.tooltip=null),this}legend(){return!0===this.options.legend.vertical?super.legendVertical():super.legend()}draw(){this.calcBarWidth(),super.draw(),this.bars(),this.legend()}}var k={axis:!1,other:{color:"#eaeaea"},labels:{font:e,color:"#fff"},holeSize:0,legend:{vertical:!0}},L=(t,i,e)=>{var[o,s,a=4,r,n]=i,{color:l="#000",fill:h="#fff",size:d=1}=e;t.beginPath(),t.save(),t.setLineDash([]),t.lineWidth=d,t.strokeStyle=l,t.fillStyle=h,t.arc(o,s,a,r,n),t.lineTo(o,s),t.fill(),t.stroke(),t.restore(),t.closePath()};class T extends g{constructor(t,i,e){if(super(t,i,r({},k,e),"pie"),this.center=[this.dpiWidth/2,this.dpiHeight/2],this.total=this.data.reduce(((t,i)=>t+i.data),0),this.legendItems=[],this.options.legend&&this.data.length)for(var o=0;o<this.data.length;o++)this.legendItems.push([this.data[o].name,this.data[o].color]);this.resize()}sectors(){var t,i,e=this.ctx,o=this.options,[s,a]=this.center,r=this.viewHeight>this.viewWidth?this.viewWidth/2-(o.padding.left+o.padding.right):this.viewHeight/2-(o.padding.top+o.padding.bottom),h=0,d=360,c=0,p="";for(var f of this.data)d=2*Math.PI*f.data/this.total,L(e,[s,a,r,h,h+d],{fill:f.color,color:f.color}),h+=d;for(var g of(o.holeSize&&u(e,[s,a,o.holeSize],{color:"#fff"}),h=0,this.data)){d=2*Math.PI*g.data/this.total,c=o.holeSize/2,p=Math.round(100*g.data/this.total),t=s+(r/2+c)*Math.cos(h+d/2),i=a+(r/2+c)*Math.sin(h+d/2);var v=l(e,[p+"%"],{font:o.labels.font});n(e,p+"%",[t-v/2,i+o.labels.font.size/2],{color:o.labels.color,font:o.labels.font}),h+=d}}legend(){return!0===this.options.legend.vertical?super.legendVertical():super.legend()}draw(){super.draw(),this.sectors(),this.legend()}resize(){super.resize(),this.center=[this.dpiWidth/2,this.dpiHeight/2]}}globalThis.chart={lineChart:(t,i,e)=>new y(t,i,e),barChart:(t,i,e)=>new Y(t,i,e),pieChart:(t,i,e)=>new T(t,i,e)}}();
