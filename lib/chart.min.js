/*! 
 * MetroUI :: ChartJS - Create different charts in js
 * https://pimenov.com.ua
 *
 * Copyright 2021 Serhii Pimenov
 * Released under the MIT license
 */
!function(){"use strict";var t={width:1,lineType:"solid",color:"#e3e3e3",radius:0},i={style:"normal",family:"Helvetica, sans-serif",size:12,weight:"normal",lineHeight:1.2},e=Object.assign({},i,{weight:"bold"}),o={color:"#000",size:1,dash:[],factorX:5,factorY:5},s={dpi:1,height:200,width:"100%",padding:{top:40,bottom:40,left:40,right:40},margin:{top:0,bottom:0,left:0,right:0},background:"#fff",color:"#000",font:i,border:t,cross:{size:1,color:"#bbb",dash:[5,3]},showLines:!0,axis:{showXAxis:!0,showXLabels:!0,showYAxis:!0,showYLabels:!0,showMinMax:!1,linesX:5,linesY:5,labelsX:5,labelsY:5,labels:{x:!0,y:!0,color:"#000",font:e},lines:{color:"#e3e3e3",size:1,dash:[]},arrowX:o,arrowY:o,onDrawLabelY:null,onDrawLabelX:null},title:{display:!0,align:"center",
// start, center, end
rtl:!1,color:"#000",text:"",font:Object.assign({},i,{weight:"bold",size:24}),padding:{top:10,bottom:10,left:10,right:10}},legend:{rtl:!1,margin:{top:20,left:0,right:0,bottom:0},padding:{top:0,left:0,right:0,bottom:0},font:e,border:t,dash:[],color:"#fff"},tooltip:{width:"auto",background:"#fff",color:"#000",font:i,border:t,padding:{top:10,bottom:10,left:10,right:10},shadow:{shiftX:2,shiftY:2,blur:4,stretch:0,color:"rgba(0,0,0,.5)"},onShow:null},boundaries:!1,accuracy:10,value:{fixed:0},onClick:null,onHover:null,onEnter:null,onLeave:null};
/**
     * Simple object check.
     * @param item
     * @returns {boolean}
     */
function a(t){return t&&"object"==typeof t&&!Array.isArray(t)}
/**
     * Deep merge two objects.
     * @param target
     * @param ...sources
     */function r(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];if(!e.length)return t;var s=e.shift();if(a(t)&&a(s))for(var l in s)a(s[l])?(t[l]||Object.assign(t,{[l]:{}}),r(t[l],s[l])):Object.assign(t,{[l]:s[l]});return r(t,...e)}var l=(t,i,e,o)=>{var[s,a]=e,{align:r="left",color:l="#000",stroke:n="#000",font:h}=o,{style:c="normal",weight:d="normal",size:f=12,lineHeight:p=1,family:v="sans-serif"}=h;t.save(),t.beginPath(),t.textAlign=r,t.fillStyle=l,t.strokeStyle=n,t.font="".concat(c," ").concat(d," ").concat(f,"px/").concat(p," ").concat(v),i.toString().split("\n").map(((i,e)=>{t.fillText(i,s,a+a*e*p)})),t.closePath(),t.restore()},n=(t,i,e)=>{var o,{font:s=null}=e,a=0;if(t.save(),s){var{style:r="normal",weight:l="normal",size:n=12,lineHeight:h=1.2,family:c="sans-serif"}=s;t.font="".concat(r," ").concat(l," ").concat(n,"px/").concat(h," ").concat(c)}for(var d=0;d<i.length;d++)(o=t.measureText(i[d][0]).width)>a&&(a=o);return t.restore(),a},h=(t,i,e)=>{var[o,s,a]=i,{color:r="#000",fill:l="#fff",size:n=1,dash:h=[]}=e;t.beginPath(),t.save(),t.setLineDash(h),t.lineWidth=n,t.strokeStyle=r,t.fillStyle=l,t.rect(o-a,s-a,2*a,2*a),t.fill(),t.stroke(),t.restore(),t.closePath()},c=t=>"number"==typeof t?{top:t,left:t,right:t,bottom:t}:t,d=t=>"number"==typeof t?{top:t,left:t,right:t,bottom:t}:t,f={legend(){var t,i,e,o=this.options,s=c(o.padding),r=o.legend,f=c(r.padding),p=d(r.margin),v=o.legend.font.size/2,g=this.ctx,u=this.legendItems;if(r&&a(r)&&u&&Array.isArray(u)&&u.length){t=r.font.size*r.font.lineHeight,e=s.top+this.viewHeight+r.font.size+f.top+p.top,i=s.left+f.left+p.left;for(var m=0;m<u.length;m++){var[b,w]=u[m],x=n(g,[[b]],{font:r.font});i+x>this.viewWidth&&(i=s.left+f.left+p.left,e+=t),h(g,[i,e,v],{color:w,fill:w}),l(g,b,[i+v+5,e+v/2],{color:o.font.color,stroke:o.font.color,font:o.font}),i+=v+x+20}}},legendVertical(){var t,i,e,o,s=this.options,r=s.legend,f=null!==(t=r.font)&&void 0!==t?t:s.font,p=f.size/2,v=this.ctx,g=this.legendItems,u=c(r.padding),m=d(r.margin),b=c(s.padding);if(r&&a(r)&&g&&Array.isArray(g)&&g.length){i=f.size*f.lineHeight,((t,i,e)=>{var[o,s,a,r]=i,{color:l="#fff",borderColor:n="#000",dash:h=[],size:c=1}=e;t.save(),t.beginPath(),t.strokeStyle=n,t.fillStyle=l,t.setLineDash(h),t.lineWidth=c,t.clearRect(o,s,a,r),t.fillRect(o,s,a,r),c&&t.strokeRect(o,s,a,r),t.closePath(),t.restore()})(v,[e=b.left+m.left,o=b.top+m.top,n(v,g,{font:f})+u.left+u.right+3*p+5,g.length*i+u.top+u.bottom+5],{color:r.color,dash:r.dash,size:r.border.width,borderColor:r.border.color}),e+=p+5+u.left,o+=p+5+u.top;for(var w=0;w<g.length;w++){var[x,y]=g[w];h(v,[e,o,p],{color:y,fill:y}),l(v,x,[e+p+5,o+p/2+2],{color:s.font.color,stroke:s.font.color,font:r.font}),o+=i}}}},p=(t,i,e)=>{var[o,s,a,r]=i,{color:l="#000",size:n=1,dash:h=[]}=e;t.beginPath(),t.save(),t.setLineDash(h),t.lineWidth=n,t.strokeStyle=l,t.moveTo(o,s),t.lineTo(a,r),t.stroke(),t.restore(),t.closePath()},v={arrowX(){var t=this.options,i=this.ctx,e=c(t.padding),o=e.left,s=this.viewHeight+e.top,a=o+this.viewWidth,r=s;t.axis.arrowX&&((t,i,e)=>{var[o,s,a,r,l,n]=i,{color:h="#000",dash:c=[],size:d=1}=e;t.beginPath(),t.strokeStyle=h,t.lineWidth=d,t.setLineDash(c),t.moveTo(o,s),t.lineTo(a,r),t.moveTo(a,r),t.lineTo(a-l,r-n),t.moveTo(a,r),t.lineTo(a-l,r+n),t.stroke(),t.closePath()})(i,[o,s,a,r,t.axis.arrowX.factorX,t.axis.arrowX.factorY],{color:t.axis.arrowX.color,size:t.axis.arrowX.size,dash:t.axis.arrowX.dash})},axisX(){var t,i=this.ctx,e=this.options,o=e.axis,s=o.lines,a=c(e.padding),r=this.viewWidth/o.linesX,n=(this.maxX-this.minX)/o.linesX,h=null!==(t=o&&o.font)&&void 0!==t?t:e.font,d=Math.round(o.linesX/o.labelsX);if(o.showXAxis)for(var f=0;f<e.axis.linesX+1;f++){var v=r*f+a.left,g=this.minX+n*f;o.linesX&&p(i,[v,a.top,v,this.viewHeight+a.top],{color:s.color,size:s.size,dash:s.dash}),o.showXLabels&&(d&&f&&f%d!=0||("function"==typeof e.axis.onDrawLabelX&&(g=e.axis.onDrawLabelX.apply(null,[g])),v+i.measureText(g.toString()).width>this.viewWidth||l(i,g.toString(),[v,this.viewHeight+a.top+h.size+5],{align:"start",font:h})))}},arrowY(){var t=this.options,i=this.ctx,e=c(t.padding),o=e.left,s=this.viewHeight+e.top,a=o,r=e.top;t.axis.arrowY&&((t,i,e)=>{var[o,s,a,r,l,n]=i,{color:h="#000",dash:c=[],size:d=1}=e;t.beginPath(),t.strokeStyle=h,t.lineWidth=d,t.setLineDash(c),t.moveTo(o,s),t.lineTo(a,r),t.moveTo(a,r),t.lineTo(a-l,r+n),t.moveTo(a,r),t.lineTo(a+l,r+n),t.stroke(),t.closePath()})(i,[o,s,a,r,t.axis.arrowX.factorX,t.axis.arrowX.factorY],{color:t.axis.arrowY.color,size:t.axis.arrowY.size,dash:t.axis.arrowY.dash})},axisY(){var t,i=this.ctx,e=this.options,o=e.axis,s=o.lines,a=c(e.padding);e.value.fixed;var r=this.viewHeight/e.axis.linesY,n=(this.maxY-this.minY)/e.axis.linesY,h=null!==(t=o&&o.font)&&void 0!==t?t:e.font,d=Math.floor(o.linesY/o.labelsY);if(o.showYAxis)for(var f=0;f<e.axis.linesY+1;f++){var v=this.viewHeight+a.top-r*f,g=a.left,u=this.minY+n*f;o.linesY&&p(i,[g,v,this.viewWidth+a.left,v],{color:s.color,size:s.size,dash:s.dash}),o.showYLabels&&(d&&f&&f%d!=0||("function"==typeof e.axis.onDrawLabelY&&(u=e.axis.onDrawLabelY.apply(null,[u])),l(i,u.toString(),[a.left-5,v],{align:"right",font:h})))}},axisXY(){if(this.options.axis)return this.axisX(),this.arrowX(),this.axisY(),this.arrowY(),this}},g={showTooltip(t,i){var e=this.options;if(this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e.tooltip){var{x:o,y:s}=this.proxy.mouse,a=document.createElement("div"),r=e.tooltip.onShow,l=e.tooltip.font,n=e.tooltip.shadow,h=e.tooltip.border,d=c(e.tooltip.padding);a.style.position="fixed",a.style.border="".concat(h.width,"px ").concat(h.lineType," ").concat(h.color),a.style.borderRadius="".concat(h.radius),a.style.padding="".concat(d.top,"px ").concat(d.right,"px ").concat(d.bottom,"px ").concat(d.left,"px"),a.style.background="".concat(e.tooltip.background),a.style.font="".concat(l.style," ").concat(l.weight," ").concat(l.size,"px/").concat(l.lineHeight," ").concat(l.family),a.style.boxShadow="".concat(n.shiftX,"px ").concat(n.shiftY,"px ").concat(n.blur,"px ").concat(n.color),a.innerHTML=r&&"function"==typeof r?r.apply(null,[t,i]):t,document.querySelector("body").appendChild(a),a.style.top="".concat(s-a.clientHeight-15,"px"),a.style.left="".concat(o-a.clientWidth/2-5,"px"),this.tooltip=a}}};class u{constructor(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unknown";this.options=r({},s,e),this.data=i,this.el=document.querySelector(t),this.canvas=null,this.ctx=null,this.raf=null,this.tooltip=null,this.minX=0,this.maxX=0,this.minY=0,this.maxY=0,this.legendItems=[],this.chartType=o;var a=this;if(this.proxy=new Proxy({},{set(){var t=Reflect.set(...arguments);return a.raf=requestAnimationFrame(a.draw.bind(a)),t}}),!this.el)throw new Error("You must define a selector for chart wrapper element!");this.options.border&&(this.el.style.border="".concat(this.options.border.width,"px ").concat(this.options.border.lineType," ").concat(this.options.border.color)),this.calcInternalValues(),this.createCanvas(),this.addEvents()}createCanvas(){this.canvas=document.createElement("canvas"),this.el.innerHTML="",this.el.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.setCanvasSize()}setCanvasSize(){var t=this.options;this.canvas.style.height=this.height+"px",this.canvas.style.width=this.width+"px",this.canvas.width=t.dpi*this.width,this.canvas.height=t.dpi*this.height}calcInternalValues(){var t,i,e=this.options,o=c(e.padding),s=this.el.getBoundingClientRect(),{width:a,height:r}=s;t=e.width.toString().includes("%")?a/100*parseInt(e.width):+e.width,i=e.height.toString().includes("%")?r/100*parseInt(e.height):+e.height,this.width=t,this.height=i,this.dpiHeight=e.dpi*i,this.dpiWidth=e.dpi*t,this.viewHeight=this.dpiHeight-(o.top+o.bottom),this.viewWidth=this.dpiWidth-(o.left+o.right)}calcRatio(){this.ratioX=this.viewWidth/(this.maxX-this.minX),this.ratioY=this.viewHeight/(this.maxY-this.minY)}title(){var t,i=this.options.title,e=this.ctx;if(i&&i.text){var{text:o,align:s,color:a,font:r}=i;switch(s){case"center":t=this.dpiWidth/2;break;case"right":t=this.dpiWidth-5;break;default:t=5}l(e,o,[t,r.size+5],{align:i.align,color:i.color,stroke:i.color,font:i.font})}}draw(){this.clear(),this.calcRatio(),this.title(),this.axisXY()}clear(){this.ctx.clearRect(0,0,this.dpiWidth,this.dpiHeight)}mouseMove(t){var i=this.options.onHover,{clientX:e,clientY:o}=t;"function"==typeof i&&i(e,o),this.proxy.mouse={x:e,y:o}}mouseLeave(){var t=this.options.onLeave;"function"==typeof t&&t(),this.proxy.mouse=null}resize(){this.calcInternalValues(),this.setCanvasSize(),this.draw()}addEvents(){var t=this.canvas;t.addEventListener("mousemove",this.mouseMove.bind(this)),t.addEventListener("mouseleave",this.mouseLeave.bind(this)),window.addEventListener("resize",this.resize.bind(this))}destroy(){var t=this.canvas;cancelAnimationFrame(this.raf),t.removeEventListener("mousemove",this.mouseMove.bind(this)),t.removeEventListener("mouseleave",this.mouseLeave.bind(this)),window.removeEventListener("resize",this.resize.bind(this))}}Object.assign(u.prototype,f),Object.assign(u.prototype,v),Object.assign(u.prototype,g);var m=function(){var t,i,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";for(var a of o)e="x"===s.toLowerCase()?a[0]:a[1],(isNaN(t)||t>e)&&(t=e),(isNaN(i)||i<e)&&(i=e);return[t,i]},b=(t,i,e)=>{var[o,s,a]=i,{color:r="#000",fill:l="#fff",size:n=1}=e;t.beginPath(),t.save(),t.setLineDash([]),t.lineWidth=n,t.strokeStyle=r,t.fillStyle=l,t.arc(o,s,a,0,2*Math.PI),t.fill(),t.stroke(),t.restore(),t.closePath()},w=(t,i,e)=>{var[o,s,a]=i,{color:r="#000",fill:l="#fff",size:n=1}=e;t.beginPath(),t.save(),t.setLineDash([]),t.lineWidth=n,t.strokeStyle=r,t.fillStyle=l,t.moveTo(o,s-a),t.lineTo(o+a,s+a),t.lineTo(o-a,s+a),t.lineTo(o,s-a),t.fill(),t.stroke(),t.restore(),t.closePath()},x=(t,i,e)=>{var[o,s,a]=i,{color:r="#000",fill:l="#fff",size:n=1}=e;t.beginPath(),t.save(),t.setLineDash([]),t.lineWidth=n,t.strokeStyle=r,t.fillStyle=l,t.moveTo(o,s-a),t.lineTo(o+a,s),t.lineTo(o,s+a),t.lineTo(o-a,s),t.lineTo(o,s-a),t.fill(),t.stroke(),t.restore(),t.closePath()},y={},z={cross(){var t=this.options,i=t.cross,e=c(t.padding),o=this.ctx,s=this.canvas.getBoundingClientRect();if(t.cross&&(!t.cross||this.proxy.mouse)){var{x:a,y:r}=this.proxy.mouse;a-=s.left,r-=s.top,a-e.left+1<0||a>this.viewWidth+e.left+1||r-e.top+1<0||r>this.viewHeight+e.top+1||(o.beginPath(),o.setLineDash(t.cross.dash),o.lineWidth=i.size,o.strokeStyle=i.color,// vertical line
o.moveTo(a,e.top),o.lineTo(a,this.viewHeight+e.top),// Horizontal line
o.moveTo(e.left,r),o.lineTo(this.viewWidth+e.left,r),o.arc(a,r,10,0,2*Math.PI),o.stroke(),o.closePath())}}};class X extends u{constructor(t){if(super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r({},y,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),"line"),this.coords={},this.legendItems=[],this.options.legend)for(var i of this.data)this.legendItems.push([i.name,i.color]);this.calcMinMax(),this.resize()}calcMinMax(){var t=this.options,i=[];for(var e in this.data){var o=this.data[e].data;if(Array.isArray(o))for(var[s,a]of o)i.push([s,a])}var[r,l]=m(i,"x"),[n,h]=m(i,"y");return this.minX=t.boundaries&&!isNaN(t.boundaries.minX)?t.boundaries.minX:r,this.maxX=t.boundaries&&!isNaN(t.boundaries.maxX)?t.boundaries.maxX:l,this.minY=t.boundaries&&!isNaN(t.boundaries.minY)?t.boundaries.minY:n,this.maxY=t.boundaries&&!isNaN(t.boundaries.maxY)?t.boundaries.maxY:h,this}lines(){var t,i=this,e=this.options,o=c(e.padding),s=this.ctx,a=function(a){var r,l;for(var[n,c]of(t=[],a.data)){var d=Math.floor((n-i.minX)*i.ratioX+o.left),f=Math.floor(i.viewHeight+o.top-(c-i.minY)*i.ratioY);t.push([d,f,n,c])}e.showLines&&!1!==a.showLines&&function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{color:e="#000",size:o=1,dash:s=[]}=arguments.length>2?arguments[2]:void 0;t.beginPath(),t.save(),t.setLineDash(s),t.lineWidth=o,t.strokeStyle=e,i.map((i=>{var[e,o]=i;t.lineTo(e,o)})),t.stroke(),t.restore(),t.closePath()}(s,t,{color:a.color,size:a.size});var p=a.dots?a.dots:{type:"dot"},v={color:null!==(r=p.color)&&void 0!==r?r:a.color,fill:null!==(l=p.fill)&&void 0!==l?l:a.color,radius:p.size||4},g=void 0;switch(p.type){case"square":g=h;break;case"triangle":g=w;break;case"diamond":g=x;break;default:g=b}a.dots&&t.map((t=>{var[i,e]=t;g(s,[i,e,p.size||4],v)})),i.coords[a.name]={graph:a,coords:t,drawPointFn:g,opt:v}};for(var r of this.data)a(r)}floatPoint(){var t=this.options,i=this.ctx,e=this.canvas.getBoundingClientRect(),o=!1;if(this.proxy.mouse){var{x:s,y:a}=this.proxy.mouse,r=s-e.left,l=a-e.top;for(var n in this.coords){var h=this.coords[n],c=h.drawPointFn,d=h.opt;for(var[f,p,v,g]of h.coords){var u=+(t.accuracy||d.radius);if(r>f-u&&r<f+u&&l>p-u&&l<p+u){c(i,[f,p,2*d.radius],{color:d.color,fill:d.fill}),t.tooltip&&(this.showTooltip([v,g],h.graph),o=!0);break}}!o&&this.tooltip&&(this.tooltip.remove(),this.tooltip=null)}}}legend(){return!0===this.options.legend.vertical?super.legendVertical():super.legend()}draw(){super.draw(),this.lines(),this.floatPoint(),this.cross(),this.legend()}}Object.assign(X.prototype,z);var Y={groupDistance:20,barDistance:10,legend:{titles:null},onDrawLabel:null},k=(t,i,e)=>{var[o,s,a,r]=i,{color:l="#000",fill:n="#fff",size:h=1,dash:c=[]}=e;t.beginPath(),t.save(),t.setLineDash(c),t.lineWidth=h,t.strokeStyle=l,t.fillStyle=n,t.rect(o,s,a,r),t.fill(),t.stroke(),t.restore(),t.closePath()};class L extends u{constructor(t,i,e){super(t,i,r({},Y,e),"bar"),this.groups=0,this.barWidth=0,this.legendItems=[];var o=this.options.legend;if(o&&o.titles&&o.titles.length)for(var s=0;s<o.titles.length;s++)this.legendItems.push([o.titles[s],this.data[0].color.split(",").map((t=>t.trim()))[s]]);this.calcMinMax(),this.resize()}calcMinMax(){var t=this.options,{fixed:i=0}=t.value,e=[];for(var o in this.data){var s=this.data[o].data;e=[].concat(e,s)}for(var a in this.data)this.data[a].data.length,this.groups++;var[,r]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[Math.min.apply(null,t),Math.max.apply(null,t)]}(e);return this.maxY=(t.boundaries&&!isNaN(t.boundaries.maxY)?t.boundaries.maxY:r).toFixed(i),this}calcBarWidth(){var t=this.options,i=0;for(var e of this.data)i+=e.data.length;this.barWidth=Math.round((this.viewWidth-this.data.length*+t.groupDistance-i*+t.barDistance)/i)-5}axisX(){}bars(){var t,i,e=this.options,o=c(e.padding),s=this.ctx,a=o.left+e.groupDistance,r=this.viewHeight+o.top,n=this.canvas.getBoundingClientRect(),h=!1;for(var d of(this.proxy.mouse&&(t=this.proxy.mouse.x-n.left,i=this.proxy.mouse.y-n.top),this.data)){for(var f=d.color.split(",").map((t=>t.trim())),p=d.name,v=d.data,g=f.length>1?e.color:f[0],u=0,m=0;m<v.length;m++){var b=v[m]*this.ratioY,w=f[m],x=f[m];k(s,[a,r-b,this.barWidth-1,b],{color:w,fill:x}),t>a&&t<a+this.barWidth-1&&i>r-b&&i<r&&(k(s,[a,r-b,this.barWidth-1,b],{color:w,fill:"rgba(255,255,255,.3)"}),e.tooltip&&(this.showTooltip([e.legend.titles?e.legend.titles[m]:p,v[m]],d),h=!0)),u+=this.barWidth,a+=e.barDistance+this.barWidth}"function"==typeof e.onDrawLabel&&(p=e.onDrawLabel.apply(null,p)),l(s,p,[a-u/2-e.barDistance,r+20],{align:"center",color:g,stroke:g,font:e.font}),a+=e.groupDistance}return!h&&this.tooltip&&(this.tooltip.remove(),this.tooltip=null),this}legend(){return!0===this.options.legend.vertical?super.legendVertical():super.legend()}draw(){this.calcBarWidth(),super.draw(),this.bars(),this.legend()}}var T={axis:!1,other:{color:"#eaeaea"},labels:{font:e,color:"#fff"},showValue:!1,holeSize:0,legend:{vertical:!0}},W=(t,i,e)=>{var[o,s,a=4,r,l]=i,{color:n="#000",fill:h="#fff",size:c=1}=e;t.beginPath(),t.save(),t.setLineDash([]),t.lineWidth=c,t.strokeStyle=n,t.fillStyle=h,t.arc(o,s,a,r,l),t.lineTo(o,s),t.fill(),t.stroke(),t.restore(),t.closePath()};class S extends u{constructor(t,i,e){if(super(t,i,r({},T,e),"pie"),this.center=[this.dpiWidth/2,this.dpiHeight/2],this.total=this.data.reduce(((t,i)=>t+i.data),0),this.legendItems=[],this.options.legend&&this.data.length)for(var o=0;o<this.data.length;o++)this.legendItems.push([this.data[o].name,this.data[o].color]);this.resize()}sectors(){var t,i,e=this.ctx,o=this.options,s=c(o.padding),[a,r]=this.center,h=this.viewHeight>this.viewWidth?this.viewWidth/2-(s.left+s.right):this.viewHeight/2-(s.top+s.bottom),d=0,f=360,p=0,v="";for(var g of this.data)f=2*Math.PI*g.data/this.total,W(e,[a,r,h,d,d+f],{fill:g.color,color:g.color}),d+=f;for(var u of(o.holeSize&&b(e,[a,r,o.holeSize],{color:"#fff"}),d=0,this.data)){f=2*Math.PI*u.data/this.total,p=o.holeSize/2,v=Math.round(100*u.data/this.total),t=a+(h/2+p)*Math.cos(d+f/2),i=r+(h/2+p)*Math.sin(d+f/2);var m=n(e,[v+"%"],{font:o.labels.font});l(e,o.showValue?u.data:v+"%",[t-m/2,i+o.labels.font.size/2],{color:o.labels.color,font:o.labels.font}),d+=f}}legend(){return!0===this.options.legend.vertical?super.legendVertical():super.legend()}draw(){super.draw(),this.sectors(),this.legend()}resize(){super.resize(),this.center=[this.dpiWidth/2,this.dpiHeight/2]}}globalThis.chart={lineChart:(t,i,e)=>new X(t,i,e),barChart:(t,i,e)=>new L(t,i,e),pieChart:(t,i,e)=>new S(t,i,e)}}();
